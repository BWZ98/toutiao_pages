"use strict";(self["webpackChunktoutiao"]=self["webpackChunktoutiao"]||[]).push([[181],{7893:function(t,e,a){a.d(e,{Z:function(){return h}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("div",{staticClass:"title-box"},[a("span",[t._v(t._s(t.art.title))]),1===t.art.cover.type?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.art.cover.images[0],expression:"art.cover.images[0]"}],staticClass:"thumb",attrs:{alt:""}}):t._e()]),t.art.cover.type>1?a("div",{staticClass:"thumb-box"},t._l(t.art.cover.images,(function(t,e){return a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],key:e,staticClass:"thumb",attrs:{alt:""}})})),0):t._e()]},proxy:!0},{key:"label",fn:function(){return[a("div",{staticClass:"label-box"},[a("div",[a("span",[t._v(t._s(t._f("change")(t.art.aut_name))+t._s(t.art.art_id))]),a("span",[t._v(t._s(t.art.comm_count)+"评论")]),a("span",[t._v(t._s(t.art.pubdate))])]),a("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],attrs:{name:"cross"},on:{click:function(e){return e.stopPropagation(),t.MaskFn.apply(null,arguments)}}})],1)]},proxy:!0}])}),a("div",{on:{click:function(t){t.stopPropagation()}}},[a("van-action-sheet",{attrs:{actions:t.actions,"cancel-text":t.bottomText},on:{close:t.closeFn,cancel:t.onCancel,select:t.onSelect},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)],1)},n=[];const i=[{name:"不感兴趣"},{name:"反馈垃圾内容"}],r=[{value:0,name:"其它问题"},{value:1,name:"标题夸张"},{value:2,name:"低俗色情"},{value:3,name:"错别字多"},{value:4,name:"旧闻重复"},{value:6,name:"内容不实"},{value:8,name:"侵权"},{value:5,name:"广告软文"},{value:7,name:"涉嫌违法犯罪"}];var o={props:{art:Object,isShow:{type:Boolean,default:!0}},data(){return{show:!1,actions:i,bottomText:"取消"}},methods:{MaskFn(){this.show=!0},onCancel(){"返回"===this.bottomText&&(this.show=!0,this.actions=i,this.bottomText="取消")},onSelect(t){"反馈垃圾内容"===t.name?(this.actions=r,this.bottomText="返回"):"不感兴趣"===t.name?(this.$emit("dislikeFn",this.art.art_id),this.show=!1):(this.$emit("reportFn",this.art.art_id,t.value),this.show=!1)},closeFn(){this.actions=i,this.bottomText="取消"}},filters:{change(t){return t.split("").splice(2,3).join("")}}},l=o,c=a(1001),u=(0,c.Z)(l,s,n,!1,null,"d57e788c",null),h=u.exports},9559:function(t,e,a){a.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:t.navTitle,fixed:""},scopedSlots:t._u([{key:"left",fn:function(){return[a("van-icon",{staticClass:"goback",attrs:{name:"arrow-left",color:"white",size:"0.48rem"},on:{click:function(e){return t.$router.back()}}})]},proxy:!0}])})],1)},n=[],i={props:{navTitle:String}},r=i,o=a(1001),l=(0,o.Z)(r,s,n,!1,null,"c4979474",null),c=l.exports},8784:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search-result-container"},[a("NavBar",{attrs:{navTitle:"搜索结果"}}),a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.articleList,(function(e){return a("ArticleItem",{key:e.art_id,attrs:{art:e,isShow:!1},nativeOn:{click:function(a){return t.itemClickFn(e.art_id)}}})})),1)],1)])},n=[],i=a(7893),r=a(9559),o=a(6183),l={name:"SearchResult",components:{ArticleItem:i.Z,NavBar:r.Z},data(){return{page:1,articleList:[],loading:!1,finished:!1}},methods:{async onLoad(){if(this.articleList.length){this.page++;const t=await(0,o.G_)({page:this.page,q:this.$route.params.keywords});if(!t.data.data.results.length)return void(this.finished=!0);this.articleList=[...this.articleList,...t.data.data.results],this.loading=!1}},itemClickFn(t){this.$router.push({path:`/article?art_id=${t}`})}},beforeRouteEnter(t,e,a){"/search"===e.path?a((async t=>{const e=await(0,o.G_)({page:t.page,q:t.$route.params.keywords});t.articleList=e.data.data.results})):a()},async created(){const t=await(0,o.G_)({page:this.page,q:this.$route.params.keywords});this.articleList=t.data.data.results}},c=l,u=a(1001),h=(0,u.Z)(c,s,n,!1,null,"0719ef84",null),d=h.exports}}]);
//# sourceMappingURL=SearchResult.4ab64eb1.js.map