{"version":3,"file":"js/SearchResult.4ab64eb1.js","mappings":"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","sources":["webpack://toutiao/./src/components/ArticleItem.vue?9040","webpack://toutiao/./src/api/report.js","webpack://toutiao/src/components/ArticleItem.vue","webpack://toutiao/./src/components/ArticleItem.vue?d5bf","webpack://toutiao/./src/components/ArticleItem.vue","webpack://toutiao/./src/components/NavBar.vue?b168","webpack://toutiao/src/components/NavBar.vue","webpack://toutiao/./src/components/NavBar.vue?c0e5","webpack://toutiao/./src/components/NavBar.vue","webpack://toutiao/./src/views/search/SearchResult.vue?8828","webpack://toutiao/src/views/search/SearchResult.vue","webpack://toutiao/./src/views/search/SearchResult.vue?8254","webpack://toutiao/./src/views/search/SearchResult.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-cell',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"title-box\"},[_c('span',[_vm._v(_vm._s(_vm.art.title))]),(_vm.art.cover.type === 1)?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.art.cover.images[0]),expression:\"art.cover.images[0]\"}],staticClass:\"thumb\",attrs:{\"alt\":\"\"}}):_vm._e()]),(_vm.art.cover.type > 1)?_c('div',{staticClass:\"thumb-box\"},_vm._l((_vm.art.cover.images),function(item,index){return _c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item),expression:\"item\"}],key:index,staticClass:\"thumb\",attrs:{\"alt\":\"\"}})}),0):_vm._e()]},proxy:true},{key:\"label\",fn:function(){return [_c('div',{staticClass:\"label-box\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm._f(\"change\")(_vm.art.aut_name))+_vm._s(_vm.art.art_id))]),_c('span',[_vm._v(_vm._s(_vm.art.comm_count)+\"评论\")]),_c('span',[_vm._v(_vm._s(_vm.art.pubdate))])]),_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],attrs:{\"name\":\"cross\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.MaskFn.apply(null, arguments)}}})],1)]},proxy:true}])}),_c('div',{on:{\"click\":function($event){$event.stopPropagation();}}},[_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"cancel-text\":_vm.bottomText},on:{\"close\":_vm.closeFn,\"cancel\":_vm.onCancel,\"select\":_vm.onSelect},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 这里放置动作面板的数组\r\nexport const firstActions = [\r\n  { name: '不感兴趣' },\r\n  { name: '反馈垃圾内容' }\r\n]\r\n\r\nexport const secondActions = [\r\n  {\r\n    value: 0,\r\n    name: '其它问题'\r\n  },\r\n  {\r\n    value: 1,\r\n    name: '标题夸张'\r\n  },\r\n  {\r\n    value: 2,\r\n    name: '低俗色情'\r\n  },\r\n  {\r\n    value: 3,\r\n    name: '错别字多'\r\n  },\r\n  {\r\n    value: 4,\r\n    name: '旧闻重复'\r\n  },\r\n  {\r\n    value: 6,\r\n    name: '内容不实'\r\n  },\r\n  {\r\n    value: 8,\r\n    name: '侵权'\r\n  },\r\n  {\r\n    value: 5,\r\n    name: '广告软文'\r\n  },\r\n  {\r\n    value: 7,\r\n    name: '涉嫌违法犯罪'\r\n  }\r\n]\r\n","<template>\r\n  <div>\r\n    <!-- 一条文章单元格 -->\r\n    <van-cell>\r\n      <!-- 标题区域的插槽 -->\r\n      <template #title>\r\n        <div class=\"title-box\">\r\n          <!-- 标题 -->\r\n          <span>{{ art.title }}</span>\r\n          <img\r\n            v-if=\"art.cover.type === 1\"\r\n            class=\"thumb\"\r\n            alt=\"\"\r\n            v-lazy=\"art.cover.images[0]\"\r\n          />\r\n        </div>\r\n        <div class=\"thumb-box\" v-if=\"art.cover.type > 1\">\r\n          <img\r\n            class=\"thumb\"\r\n            v-for=\"(item, index) in art.cover.images\"\r\n            :key=\"index\"\r\n            v-lazy=\"item\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <!-- label 区域的插槽 -->\r\n      <template #label>\r\n        <div class=\"label-box\">\r\n          <div>\r\n            <span>{{ art.aut_name | change }}{{ art.art_id }}</span>\r\n            <span>{{ art.comm_count }}评论</span>\r\n            <span>{{ art.pubdate }}</span>\r\n          </div>\r\n          <!-- 反馈按钮 -->\r\n          <van-icon name=\"cross\" @click.stop=\"MaskFn\" v-show=\"isShow\" />\r\n        </div>\r\n      </template>\r\n    </van-cell>\r\n    <!-- 反馈面板 -->\r\n    <!-- 存在穿透问题 -->\r\n    <!-- 解决办法：添加父盒子并阻止冒泡 -->\r\n    <div @click.stop>\r\n      <van-action-sheet\r\n        v-model=\"show\"\r\n        :actions=\"actions\"\r\n        :cancel-text=\"bottomText\"\r\n        @close=\"closeFn\"\r\n        @cancel=\"onCancel\"\r\n        @select=\"onSelect\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { firstActions, secondActions } from '@/api/report.js'\r\nexport default {\r\n  props: {\r\n    art: Object,\r\n    isShow: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      show: false,\r\n      actions: firstActions,\r\n      bottomText: '取消'\r\n    }\r\n  },\r\n  methods: {\r\n    // 显示蒙版\r\n    MaskFn () {\r\n      this.show = true\r\n    },\r\n    // 点击取消时触发\r\n    onCancel () {\r\n      if (this.bottomText === '返回') {\r\n        this.show = true\r\n        this.actions = firstActions\r\n        this.bottomText = '取消'\r\n      }\r\n    },\r\n    // 选中某个标签\r\n    onSelect (action) {\r\n      // action代表反馈数组里的对象,index是索引\r\n      if (action.name === '反馈垃圾内容') {\r\n        this.actions = secondActions\r\n        this.bottomText = '返回'\r\n      } else if (action.name === '不感兴趣') {\r\n        // 不想增加网络请求，在list界面发请求\r\n        this.$emit('dislikeFn', this.art.art_id)\r\n        this.show = false\r\n      } else {\r\n        // 点击二级面板的反馈\r\n        this.$emit('reportFn', this.art.art_id, action.value)\r\n        this.show = false\r\n      }\r\n    },\r\n    closeFn () {\r\n      this.actions = firstActions\r\n      this.bottomText = '取消'\r\n    }\r\n  },\r\n  filters: {\r\n    change (val) {\r\n      return val.split('').splice(2, 3).join('')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n/* 标题样式 */\r\n.title-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n}\r\n\r\n/* label描述样式 */\r\n.label-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n/* 文章信息span */\r\n.label-box span {\r\n  margin: 0 6px;\r\n  &:first-child {\r\n    margin-left: 0;\r\n  }\r\n}\r\n.thumb {\r\n  width: 226px;\r\n  height: 140px;\r\n  background-color: #f8f8f8;\r\n  object-fit: cover;\r\n}\r\n.thumb-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleItem.vue?vue&type=template&id=d57e788c&scoped=true&\"\nimport script from \"./ArticleItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleItem.vue?vue&type=style&index=0&id=d57e788c&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d57e788c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":_vm.navTitle,\"fixed\":\"\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('van-icon',{staticClass:\"goback\",attrs:{\"name\":\"arrow-left\",\"color\":\"white\",\"size\":\"0.48rem\"},on:{\"click\":function($event){return _vm.$router.back()}}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 点击实现后退效果 -->\r\n    <van-nav-bar :title=\"navTitle\" fixed>\r\n      <template #left>\r\n        <!-- 后退按钮 -->\r\n        <van-icon\r\n          name=\"arrow-left\"\r\n          color=\"white\"\r\n          size=\"0.48rem\"\r\n          class=\"goback\"\r\n          @click=\"$router.back()\"\r\n        />\r\n      </template>\r\n    </van-nav-bar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    navTitle: String\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.van-nav-bar {\r\n  background-color: #007bff;\r\n  /deep/ .van-nav-bar__title {\r\n    color: #fff;\r\n  }\r\n}\r\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavBar.vue?vue&type=template&id=c4979474&scoped=true&\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavBar.vue?vue&type=style&index=0&id=c4979474&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c4979474\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-result-container\"},[_c('NavBar',{attrs:{\"navTitle\":\"搜索结果\"}}),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.articleList),function(obj){return _c('ArticleItem',{key:obj.art_id,attrs:{\"art\":obj,\"isShow\":false},nativeOn:{\"click\":function($event){return _vm.itemClickFn(obj.art_id)}}})}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 搜索结果页-头部导航 -->\r\n    <div class=\"search-result-container\">\r\n      <NavBar navTitle=\"搜索结果\"></NavBar>\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n        :immediate-check=\"false\"\r\n      >\r\n        <ArticleItem\r\n          v-for=\"obj in articleList\"\r\n          :key=\"obj.art_id\"\r\n          :art=\"obj\"\r\n          :isShow=\"false\"\r\n          @click.native=\"itemClickFn(obj.art_id)\"\r\n        ></ArticleItem>\r\n      </van-list>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ArticleItem from '@/components/ArticleItem.vue'\r\nimport NavBar from '@/components/NavBar.vue'\r\nimport { searchResultAPI } from '@/api'\r\nexport default {\r\n  name: 'SearchResult',\r\n  components: {\r\n    ArticleItem,\r\n    NavBar\r\n  },\r\n  data () {\r\n    return {\r\n      page: 1,\r\n      articleList: [], // 请求回来的结果数组\r\n      loading: false, // 加载状态\r\n      finished: false // 加载完成\r\n    }\r\n  },\r\n  methods: {\r\n    async onLoad () {\r\n      if (this.articleList.length) {\r\n        this.page++\r\n        const res = await searchResultAPI({\r\n          page: this.page,\r\n          q: this.$route.params.keywords\r\n        })\r\n        if (!res.data.data.results.length) {\r\n          this.finished = true\r\n          return\r\n        }\r\n        this.articleList = [...this.articleList, ...res.data.data.results]\r\n        this.loading = false\r\n      }\r\n    },\r\n    // 跳转\r\n    itemClickFn (id) {\r\n      this.$router.push({\r\n        path: `/article?art_id=${id}`\r\n      })\r\n    }\r\n  },\r\n  // 对搜索结果页面缓存的优化,如果是从搜索页面跳转过来的,则重新发请求,如果是从文章页面跳转过来的,则直接跳转\r\n  // next的执行在mounted之后\r\n  beforeRouteEnter (to, from, next) {\r\n    if (from.path === '/search') {\r\n      next(async (vm) => {\r\n        const res = await searchResultAPI({\r\n          page: vm.page,\r\n          q: vm.$route.params.keywords\r\n        })\r\n        vm.articleList = res.data.data.results\r\n      })\r\n    } else {\r\n      next()\r\n    }\r\n  },\r\n  async created () {\r\n    const res = await searchResultAPI({\r\n      page: this.page,\r\n      q: this.$route.params.keywords\r\n    })\r\n    this.articleList = res.data.data.results\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search-result-container {\r\n  padding-top: 92px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResult.vue?vue&type=template&id=0719ef84&scoped=true&\"\nimport script from \"./SearchResult.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResult.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchResult.vue?vue&type=style&index=0&id=0719ef84&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0719ef84\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","scopedSlots","_u","key","fn","staticClass","_v","_s","art","title","cover","type","directives","name","rawName","value","images","expression","attrs","_e","_l","item","index","proxy","_f","aut_name","art_id","comm_count","pubdate","on","$event","stopPropagation","MaskFn","apply","arguments","actions","bottomText","closeFn","onCancel","onSelect","model","callback","$$v","show","staticRenderFns","firstActions","secondActions","props","isShow","default","data","methods","filters","change","component","navTitle","$router","back","finished","onLoad","loading","obj","nativeOn","itemClickFn","components","ArticleItem","NavBar","page","articleList","q","path","beforeRouteEnter","next","vm"],"sourceRoot":""}