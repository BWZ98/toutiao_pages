"use strict";(self["webpackChunktoutiao"]=self["webpackChunktoutiao"]||[]).push([[535],{4933:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("van-nav-bar",{staticClass:"page-nav-bar",attrs:{title:"登录"}}),a("van-form",{on:{submit:t.onSubmit}},[a("van-field",{attrs:{required:"",name:"手机号",placeholder:"请输入手机号",rules:[{required:!0,message:"请填写正确的手机号码",pattern:/^1[3-9]\d{9}$/}]},model:{value:t.user.mobile,callback:function(e){t.$set(t.user,"mobile",e)},expression:"user.mobile"}},[a("i",{staticClass:"toutiao toutiao-shouji",attrs:{slot:"left-icon"},slot:"left-icon"})]),a("van-field",{attrs:{required:"",name:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请填写六位密码",pattern:/^\d{6}$/}]},model:{value:t.user.code,callback:function(e){t.$set(t.user,"code",e)},expression:"user.code"}},[a("i",{staticClass:"toutiao toutiao-yanzhengma",attrs:{slot:"left-icon"},slot:"left-icon"})]),a("div",{staticClass:"login-btn-wrap"},[a("van-button",{staticClass:"login-btn",attrs:{disabled:t.load,loading:t.load,"loading-type":"登录中",block:"",type:"info","native-type":"submit"}},[t._v("登录")])],1)],1)],1)},o=[],i=a(6183),n=a(8398),l=a(4224),r={name:"loginPage",data(){return{user:{mobile:"",code:""},load:!1}},methods:{async onSubmit(){const t=this.user;this.load=!0;try{const e=await(0,i.WW)(t);(0,n.Z)({type:"success",message:"登录成功"}),(0,l.o4)(e.data.data.token),localStorage.setItem("refresh_token",e.data.data.refresh_token),this.$router.push({path:this.$route.query.path||"/"})}catch(e){(0,n.Z)({type:"danger",message:"账号或密码错误"})}this.load=!1}}},u=r,c=a(1001),d=(0,c.Z)(u,s,o,!1,null,"2ae196bd",null),m=d.exports}}]);
//# sourceMappingURL=login.7d130958.js.map