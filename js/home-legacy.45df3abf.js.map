{"version":3,"file":"js/home-legacy.45df3abf.js","mappings":"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","sources":["webpack://toutiao/./src/components/ArticleItem.vue?9040","webpack://toutiao/./src/api/report.js","webpack://toutiao/src/components/ArticleItem.vue","webpack://toutiao/./src/components/ArticleItem.vue?d5bf","webpack://toutiao/./src/components/ArticleItem.vue","webpack://toutiao/./src/views/home/index.vue?905b","webpack://toutiao/./src/views/home/components/ArticleList.vue?55e0","webpack://toutiao/src/views/home/components/ArticleList.vue","webpack://toutiao/./src/views/home/components/ArticleList.vue?e828","webpack://toutiao/./src/views/home/components/ArticleList.vue","webpack://toutiao/./src/views/home/components/ChannelEdit.vue?9a7d","webpack://toutiao/src/views/home/components/ChannelEdit.vue","webpack://toutiao/./src/views/home/components/ChannelEdit.vue?b565","webpack://toutiao/./src/views/home/components/ChannelEdit.vue","webpack://toutiao/src/views/home/index.vue","webpack://toutiao/./src/views/home/index.vue?f727","webpack://toutiao/./src/views/home/index.vue","webpack://toutiao/./node_modules/core-js/modules/es.array.find-index.js","webpack://toutiao/./node_modules/core-js/modules/es.array.from.js","webpack://toutiao/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://toutiao/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://toutiao/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://toutiao/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://toutiao/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://toutiao/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-cell',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"title-box\"},[_c('span',[_vm._v(_vm._s(_vm.art.title))]),(_vm.art.cover.type === 1)?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.art.cover.images[0]),expression:\"art.cover.images[0]\"}],staticClass:\"thumb\",attrs:{\"alt\":\"\"}}):_vm._e()]),(_vm.art.cover.type > 1)?_c('div',{staticClass:\"thumb-box\"},_vm._l((_vm.art.cover.images),function(item,index){return _c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item),expression:\"item\"}],key:index,staticClass:\"thumb\",attrs:{\"alt\":\"\"}})}),0):_vm._e()]},proxy:true},{key:\"label\",fn:function(){return [_c('div',{staticClass:\"label-box\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm._f(\"change\")(_vm.art.aut_name))+_vm._s(_vm.art.art_id))]),_c('span',[_vm._v(_vm._s(_vm.art.comm_count)+\"评论\")]),_c('span',[_vm._v(_vm._s(_vm.art.pubdate))])]),_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],attrs:{\"name\":\"cross\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.MaskFn.apply(null, arguments)}}})],1)]},proxy:true}])}),_c('div',{on:{\"click\":function($event){$event.stopPropagation();}}},[_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"cancel-text\":_vm.bottomText},on:{\"close\":_vm.closeFn,\"cancel\":_vm.onCancel,\"select\":_vm.onSelect},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 这里放置动作面板的数组\r\nexport const firstActions = [\r\n  { name: '不感兴趣' },\r\n  { name: '反馈垃圾内容' }\r\n]\r\n\r\nexport const secondActions = [\r\n  {\r\n    value: 0,\r\n    name: '其它问题'\r\n  },\r\n  {\r\n    value: 1,\r\n    name: '标题夸张'\r\n  },\r\n  {\r\n    value: 2,\r\n    name: '低俗色情'\r\n  },\r\n  {\r\n    value: 3,\r\n    name: '错别字多'\r\n  },\r\n  {\r\n    value: 4,\r\n    name: '旧闻重复'\r\n  },\r\n  {\r\n    value: 6,\r\n    name: '内容不实'\r\n  },\r\n  {\r\n    value: 8,\r\n    name: '侵权'\r\n  },\r\n  {\r\n    value: 5,\r\n    name: '广告软文'\r\n  },\r\n  {\r\n    value: 7,\r\n    name: '涉嫌违法犯罪'\r\n  }\r\n]\r\n","<template>\r\n  <div>\r\n    <!-- 一条文章单元格 -->\r\n    <van-cell>\r\n      <!-- 标题区域的插槽 -->\r\n      <template #title>\r\n        <div class=\"title-box\">\r\n          <!-- 标题 -->\r\n          <span>{{ art.title }}</span>\r\n          <img\r\n            v-if=\"art.cover.type === 1\"\r\n            class=\"thumb\"\r\n            alt=\"\"\r\n            v-lazy=\"art.cover.images[0]\"\r\n          />\r\n        </div>\r\n        <div class=\"thumb-box\" v-if=\"art.cover.type > 1\">\r\n          <img\r\n            class=\"thumb\"\r\n            v-for=\"(item, index) in art.cover.images\"\r\n            :key=\"index\"\r\n            v-lazy=\"item\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <!-- label 区域的插槽 -->\r\n      <template #label>\r\n        <div class=\"label-box\">\r\n          <div>\r\n            <span>{{ art.aut_name | change }}{{ art.art_id }}</span>\r\n            <span>{{ art.comm_count }}评论</span>\r\n            <span>{{ art.pubdate }}</span>\r\n          </div>\r\n          <!-- 反馈按钮 -->\r\n          <van-icon name=\"cross\" @click.stop=\"MaskFn\" v-show=\"isShow\" />\r\n        </div>\r\n      </template>\r\n    </van-cell>\r\n    <!-- 反馈面板 -->\r\n    <!-- 存在穿透问题 -->\r\n    <!-- 解决办法：添加父盒子并阻止冒泡 -->\r\n    <div @click.stop>\r\n      <van-action-sheet\r\n        v-model=\"show\"\r\n        :actions=\"actions\"\r\n        :cancel-text=\"bottomText\"\r\n        @close=\"closeFn\"\r\n        @cancel=\"onCancel\"\r\n        @select=\"onSelect\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { firstActions, secondActions } from '@/api/report.js'\r\nexport default {\r\n  props: {\r\n    art: Object,\r\n    isShow: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      show: false,\r\n      actions: firstActions,\r\n      bottomText: '取消'\r\n    }\r\n  },\r\n  methods: {\r\n    // 显示蒙版\r\n    MaskFn () {\r\n      this.show = true\r\n    },\r\n    // 点击取消时触发\r\n    onCancel () {\r\n      if (this.bottomText === '返回') {\r\n        this.show = true\r\n        this.actions = firstActions\r\n        this.bottomText = '取消'\r\n      }\r\n    },\r\n    // 选中某个标签\r\n    onSelect (action) {\r\n      // action代表反馈数组里的对象,index是索引\r\n      if (action.name === '反馈垃圾内容') {\r\n        this.actions = secondActions\r\n        this.bottomText = '返回'\r\n      } else if (action.name === '不感兴趣') {\r\n        // 不想增加网络请求，在list界面发请求\r\n        this.$emit('dislikeFn', this.art.art_id)\r\n        this.show = false\r\n      } else {\r\n        // 点击二级面板的反馈\r\n        this.$emit('reportFn', this.art.art_id, action.value)\r\n        this.show = false\r\n      }\r\n    },\r\n    closeFn () {\r\n      this.actions = firstActions\r\n      this.bottomText = '取消'\r\n    }\r\n  },\r\n  filters: {\r\n    change (val) {\r\n      return val.split('').splice(2, 3).join('')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n/* 标题样式 */\r\n.title-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n}\r\n\r\n/* label描述样式 */\r\n.label-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n/* 文章信息span */\r\n.label-box span {\r\n  margin: 0 6px;\r\n  &:first-child {\r\n    margin-left: 0;\r\n  }\r\n}\r\n.thumb {\r\n  width: 226px;\r\n  height: 140px;\r\n  background-color: #f8f8f8;\r\n  object-fit: cover;\r\n}\r\n.thumb-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleItem.vue?vue&type=template&id=d57e788c&scoped=true&\"\nimport script from \"./ArticleItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleItem.vue?vue&type=style&index=0&id=d57e788c&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d57e788c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container\"},[_c('div',{staticClass:\"nav-container\"},[_c('van-nav-bar',{attrs:{\"fixed\":\"\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('van-icon',{staticClass:\"i-descrip\",attrs:{\"name\":\"description\",\"color\":\"#fff\"}}),_c('span',{staticClass:\"text\"},[_vm._v(\"头条资讯\")])]},proxy:true},{key:\"right\",fn:function(){return [_c('van-icon',{staticClass:\"i-search\",attrs:{\"name\":\"search\",\"color\":\"#fff\"},on:{\"click\":_vm.searchFn}})]},proxy:true}])})],1),_c('div',{staticClass:\"sec-nav\"},[_c('van-tabs',{attrs:{\"sticky\":\"\",\"offset-top\":\"1.2266667rem\",\"before-change\":_vm.beforeChangeFn},on:{\"change\":_vm.changeFn},model:{value:(_vm.channelID),callback:function ($$v) {_vm.channelID=$$v},expression:\"channelID\"}},_vm._l((_vm.channelList),function(obj){return _c('van-tab',{key:obj.id,attrs:{\"title\":obj.name,\"name\":obj.id}},[_c('ArticleList',{attrs:{\"channelID\":_vm.channelID}})],1)}),1),_c('van-icon',{staticClass:\"moreChannels\",attrs:{\"name\":\"plus\",\"size\":\"0.37333334rem\"},on:{\"click\":function($event){_vm.show = true}}})],1),_c('div',[_c('van-popup',{staticClass:\"editBox\",model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('ChannelEdit',{attrs:{\"userList\":_vm.channelList,\"unCheckList\":_vm.unCheckChannelList},on:{\"addChannelEV\":_vm.addChannelFn,\"removeChannelEV\":_vm.removeChannelFn,\"closeEV\":_vm.closeFn,\"changeChannel\":_vm.changeChannelFn}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"loading-text\":\"加载中...\",\"finished-text\":\"没有更多了\",\"immediate-check\":false,\"offset\":\"50\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.articleList),function(obj,index){return _c('ArticleItem',{key:index,attrs:{\"art\":obj},on:{\"dislikeFn\":_vm.dislikeFunc,\"reportFn\":_vm.reportFunc},nativeOn:{\"click\":function($event){return _vm.itemClickFn(obj.art_id)}}})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        loading-text=\"加载中...\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n        :immediate-check=\"false\"\r\n        offset=\"50\"\r\n      >\r\n        <ArticleItem\r\n          v-for=\"(obj, index) in articleList\"\r\n          :key=\"index\"\r\n          :art=\"obj\"\r\n          @dislikeFn=\"dislikeFunc\"\r\n          @reportFn=\"reportFunc\"\r\n          @click.native=\"itemClickFn(obj.art_id)\"\r\n        ></ArticleItem>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getAllArticleListAPI,\r\n  dislikeArticleAPI,\r\n  reportArticleAPI\r\n} from '@/api/index.js'\r\nimport ArticleItem from '@/components/ArticleItem.vue'\r\nimport { Notify } from 'vant'\r\nexport default {\r\n  data () {\r\n    return {\r\n      articleList: [],\r\n      loading: false,\r\n      finished: false,\r\n      timestamp: +new Date(),\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    ArticleItem\r\n  },\r\n  props: {\r\n    channelID: Number\r\n  },\r\n  async created () {\r\n    const res = await getAllArticleListAPI(this.channelID, +new Date())\r\n    this.articleList = res.data.data.results\r\n    this.timestamp = res.data.data.pre_timestamp\r\n  },\r\n  methods: {\r\n    async onLoad () {\r\n      const res = await getAllArticleListAPI(this.channelID, this.timestamp)\r\n      // 更新数据数组\r\n      this.articleList = [...this.articleList, ...res.data.data.results]\r\n      // 保存下一次请求所需时间戳\r\n      this.timestamp = res.data.data.pre_timestamp\r\n      // 更新完毕后改为false\r\n      this.loading = false\r\n      if (!res.data.data.pre_timestamp) {\r\n        this.finished = true\r\n      }\r\n    },\r\n    // 下拉刷新\r\n    async onRefresh () {\r\n      this.articleList = []\r\n      const res = await getAllArticleListAPI(this.channelID, +new Date())\r\n      this.articleList = res.data.data.results\r\n      this.timestamp = res.data.data.pre_timestamp\r\n      this.isLoading = false\r\n    },\r\n    // 反馈不感兴趣\r\n    async dislikeFunc (id) {\r\n      await dislikeArticleAPI(id)\r\n      Notify({ type: 'success', message: '反馈成功' })\r\n    },\r\n    // 反馈举报\r\n    async reportFunc (id, value) {\r\n      await reportArticleAPI(id, value)\r\n      Notify({ type: 'success', message: '举报成功' })\r\n    },\r\n    // 跳转路由-文章页面\r\n    itemClickFn (id) {\r\n      this.$router.push({\r\n        path: `/article?art_id=${id}`\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleList.vue?vue&type=template&id=7035564f&\"\nimport script from \"./ArticleList.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"popup-container\"},[_c('van-nav-bar',{staticClass:\"pop-header\",attrs:{\"title\":\"频道管理\"},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"cross\",\"size\":\"0.37333334rem\",\"color\":\"white\"},on:{\"click\":_vm.closeF}})]},proxy:true}])}),_c('div',{staticClass:\"my-channel-box\"},[_c('div',{staticClass:\"channel-title\"},[_vm._m(0),_c('span',{on:{\"click\":_vm.editFn}},[_vm._v(\" \"+_vm._s(_vm.isEdit ? \"完成\" : \"编辑\")+\" \")])]),_c('van-row',{attrs:{\"type\":\"flex\"}},_vm._l((_vm.userList),function(obj){return _c('van-col',{key:obj.id,attrs:{\"span\":\"6\"},on:{\"click\":function($event){return _vm.userChannelClickFn(obj)}}},[_c('div',{staticClass:\"channel-item van-hairline--surround\"},[_vm._v(\" \"+_vm._s(obj.name)+\" \"),_c('van-badge',{staticClass:\"cross-badge\",attrs:{\"color\":\"transparent\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit && obj.id !== 0),expression:\"isEdit && obj.id !== 0\"}],staticClass:\"badge-icon\",attrs:{\"name\":\"cross\",\"color\":\"#cfcfcf\",\"size\":\"0.32rem\"}})]},proxy:true}],null,true)})],1)])}),1)],1),_c('div',{staticClass:\"more-channel-box\"},[_vm._m(1),_c('van-row',{attrs:{\"type\":\"flex\"}},_vm._l((_vm.unCheckList),function(obj){return _c('van-col',{key:obj.id,attrs:{\"span\":\"6\"},on:{\"click\":function($event){return _vm.moreFn(obj)}}},[_c('div',{staticClass:\"channel-item van-hairline--surround\"},[_vm._v(_vm._s(obj.name))])])}),1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_vm._v(\"我的频道 \"),_c('span',{staticClass:\"small-title\"},[_vm._v(\" 点击进入频道 \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"channel-title\"},[_c('span',[_vm._v(\"点击添加更多频道：\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"popup-container\">\r\n    <!-- 弹出层的头部区域 -->\r\n    <van-nav-bar title=\"频道管理\" class=\"pop-header\">\r\n      <template #right>\r\n        <van-icon\r\n          name=\"cross\"\r\n          size=\"0.37333334rem\"\r\n          color=\"white\"\r\n          @click=\"closeF\"\r\n        />\r\n      </template>\r\n    </van-nav-bar>\r\n    <!-- 我的频道 -->\r\n    <div class=\"my-channel-box\">\r\n      <div class=\"channel-title\">\r\n        <span\r\n          >我的频道\r\n          <span class=\"small-title\"> 点击进入频道 </span>\r\n        </span>\r\n        <span @click=\"editFn\"> {{ isEdit ? \"完成\" : \"编辑\" }} </span>\r\n      </div>\r\n      <!-- 我的频道列表 -->\r\n      <van-row type=\"flex\">\r\n        <van-col\r\n          span=\"6\"\r\n          v-for=\"obj in userList\"\r\n          :key=\"obj.id\"\r\n          @click=\"userChannelClickFn(obj)\"\r\n        >\r\n          <div class=\"channel-item van-hairline--surround\">\r\n            {{ obj.name }}\r\n            <!-- 删除的徽标 -->\r\n            <van-badge color=\"transparent\" class=\"cross-badge\">\r\n              <template #content>\r\n                <van-icon\r\n                  v-show=\"isEdit && obj.id !== 0\"\r\n                  name=\"cross\"\r\n                  class=\"badge-icon\"\r\n                  color=\"#cfcfcf\"\r\n                  size=\"0.32rem\"\r\n                />\r\n              </template>\r\n            </van-badge>\r\n          </div>\r\n        </van-col>\r\n      </van-row>\r\n    </div>\r\n\r\n    <!-- 更多频道 -->\r\n    <div class=\"more-channel-box\">\r\n      <div class=\"channel-title\">\r\n        <span>点击添加更多频道：</span>\r\n      </div>\r\n      <!-- 更多频道列表 -->\r\n      <van-row type=\"flex\">\r\n        <van-col\r\n          span=\"6\"\r\n          v-for=\"obj in unCheckList\"\r\n          :key=\"obj.id\"\r\n          @click=\"moreFn(obj)\"\r\n        >\r\n          <div class=\"channel-item van-hairline--surround\">{{ obj.name }}</div>\r\n        </van-col>\r\n      </van-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      isEdit: false\r\n    }\r\n  },\r\n  methods: {\r\n    editFn () {\r\n      this.isEdit = !this.isEdit\r\n    },\r\n    moreFn (obj) {\r\n      if (this.isEdit) {\r\n        this.$emit('addChannelEV', obj)\r\n      }\r\n    },\r\n    userChannelClickFn (obj) {\r\n      if (this.isEdit) {\r\n        if (obj.id !== 0) {\r\n          this.$emit('removeChannelEV', obj)\r\n        }\r\n      } else {\r\n        // 非编辑状态点击时,关闭蒙层并且跳转该频道\r\n        this.$emit('closeEV')\r\n        this.$emit('changeChannel', obj)\r\n      }\r\n    },\r\n    closeF () {\r\n      this.$emit('closeEV')\r\n      this.isEdit = false\r\n    }\r\n  },\r\n  props: {\r\n    userList: Array,\r\n    unCheckList: Array\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.van-popup,\r\n.popup-container {\r\n  background-color: transparent;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.popup-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.pop-header {\r\n  height: 90px;\r\n  background-color: #007bff;\r\n  /deep/ .van-nav-bar__title {\r\n    color: #fff;\r\n    text-align: center;\r\n    font-size: 28px;\r\n  }\r\n}\r\n\r\n.pop-body {\r\n  flex: 1;\r\n  overflow: scroll;\r\n  padding: 16px;\r\n  background-color: white;\r\n}\r\n\r\n.my-channel-box,\r\n.more-channel-box {\r\n  .channel-title {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-size: 28px;\r\n    line-height: 56px;\r\n    padding: 0 10px;\r\n  }\r\n}\r\n\r\n.channel-item {\r\n  font-size: 24px;\r\n  text-align: center;\r\n  line-height: 72px;\r\n  background-color: #fafafa;\r\n  margin: 10px;\r\n}\r\n\r\n/*删除的微标 */\r\n.cross-badge {\r\n  position: absolute;\r\n  right: -6px;\r\n  top: 0;\r\n  border: none;\r\n}\r\n\r\n/*提示文字 */\r\n.small-title {\r\n  font-size: 20px;\r\n  color: gray;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChannelEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChannelEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChannelEdit.vue?vue&type=template&id=717ee6f8&scoped=true&\"\nimport script from \"./ChannelEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./ChannelEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChannelEdit.vue?vue&type=style&index=0&id=717ee6f8&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"717ee6f8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"home-container\">\r\n    <div class=\"nav-container\">\r\n      <van-nav-bar fixed>\r\n        <template #left>\r\n          <van-icon class=\"i-descrip\" name=\"description\" color=\"#fff\" />\r\n          <span class=\"text\">头条资讯</span>\r\n        </template>\r\n        <template #right>\r\n          <van-icon\r\n            class=\"i-search\"\r\n            name=\"search\"\r\n            color=\"#fff\"\r\n            @click=\"searchFn\"\r\n          />\r\n        </template>\r\n      </van-nav-bar>\r\n    </div>\r\n    <!-- 二级导航 -->\r\n    <div class=\"sec-nav\">\r\n      <van-tabs\r\n        v-model=\"channelID\"\r\n        sticky\r\n        offset-top=\"1.2266667rem\"\r\n        :before-change=\"beforeChangeFn\"\r\n        @change=\"changeFn\"\r\n      >\r\n        <van-tab\r\n          :title=\"obj.name\"\r\n          v-for=\"obj in channelList\"\r\n          :key=\"obj.id\"\r\n          :name=\"obj.id\"\r\n        >\r\n          <!-- <ArticleList :list=\"articleList\"></ArticleList> -->\r\n          <ArticleList :channelID=\"channelID\"></ArticleList>\r\n        </van-tab>\r\n      </van-tabs>\r\n      <!-- 编辑频道的图标 -->\r\n      <van-icon\r\n        name=\"plus\"\r\n        size=\"0.37333334rem\"\r\n        class=\"moreChannels\"\r\n        @click=\"show = true\"\r\n      />\r\n    </div>\r\n    <!-- 使用弹出层制作频道管理页面 -->\r\n    <div>\r\n      <van-popup v-model=\"show\" class=\"editBox\">\r\n        <ChannelEdit\r\n          :userList=\"channelList\"\r\n          :unCheckList=\"unCheckChannelList\"\r\n          @addChannelEV=\"addChannelFn\"\r\n          @removeChannelEV=\"removeChannelFn\"\r\n          @closeEV=\"closeFn\"\r\n          @changeChannel=\"changeChannelFn\"\r\n        ></ChannelEdit>\r\n      </van-popup>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getAllChannelsAPI,\r\n  getUserChannelsAPI,\r\n  updateChannelsAPI,\r\n  removeChannelsAPI\r\n} from '@/api/index.js'\r\nimport ArticleList from './components/ArticleList.vue'\r\nimport ChannelEdit from './components/ChannelEdit.vue'\r\nexport default {\r\n  name: 'HomeComp',\r\n  components: {\r\n    ArticleList,\r\n    ChannelEdit\r\n  },\r\n  data () {\r\n    return {\r\n      channelID: 0,\r\n      channelList: [],\r\n      // articleList: [],\r\n      allChannelList: [],\r\n      show: false,\r\n      // 为了实现切换频道保存滚动条位置,定义一个空对象,其键值对为ID和滚动位置\r\n      channelScroll: {}\r\n    }\r\n  },\r\n  async created () {\r\n    const res = await getUserChannelsAPI()\r\n    this.channelList = res.data.data.channels\r\n    // this.changeFn();\r\n    const res2 = await getAllChannelsAPI()\r\n    this.allChannelList = res2.data.data.channels\r\n  },\r\n  // methods: {\r\n  // 但是这样有一个问题，每次切换都会重新发请求，导致切换就会刷新页面内容。vant组件是首次切换时创建，之后则只会显示/隐藏之间切换。\r\n  // 解决办法：首页只传递请求需要的参数，而请求在子组件中创建时发起\r\n  //   async changeFn() {\r\n  //     const res2 = await getAllArticleListAPI(this.channelID, +new Date());\r\n  //     console.log(res2);\r\n  //     this.articleList = res2.data.data.results;\r\n  //   },\r\n  // },\r\n\r\n  // 得到频道管理页面的用户未选频道\r\n  computed: {\r\n    unCheckChannelList () {\r\n      const set = new Set()\r\n      const newArr = []\r\n      this.channelList.forEach((item) => {\r\n        set.add(item.id)\r\n      })\r\n      this.allChannelList.forEach((item) => {\r\n        if (!set.has(item.id)) {\r\n          newArr.push(item)\r\n        }\r\n      })\r\n      return newArr\r\n    }\r\n  },\r\n  methods: {\r\n    async addChannelFn (channelObj) {\r\n      this.channelList.push(channelObj)\r\n      await updateChannelsAPI(this.channelList)\r\n    },\r\n    async removeChannelFn (channelObj) {\r\n      const index = this.channelList.findIndex(\r\n        (obj) => obj.id === channelObj.id\r\n      )\r\n      this.channelList.splice(index, 1)\r\n      // 删除的接口要配合前端效果一起使用\r\n      await removeChannelsAPI(channelObj.id)\r\n    },\r\n    // 关闭蒙层\r\n    closeFn () {\r\n      this.show = false\r\n    },\r\n    // 切换频道\r\n    changeChannelFn (obj) {\r\n      this.channelID = obj.id\r\n    },\r\n    // 跳转搜索页面路由\r\n    searchFn () {\r\n      this.$router.push('/search')\r\n    },\r\n    // 切换路由时保存位置的滚动函数\r\n    scorllFn () {\r\n      this.$route.meta.scorllT =\r\n        document.documentElement.scrollTop || document.body.scrollTop\r\n    },\r\n    // 切换频道时保存位置\r\n    beforeChangeFn () {\r\n      const channelS =\r\n        document.documentElement.scrollTop || document.body.scrollTop\r\n      this.channelScroll[this.channelID] = channelS\r\n      // 保证切换\r\n      return true\r\n    },\r\n    // 切换回来时,赋值\r\n    changeFn () {\r\n      this.$nextTick(() => {\r\n        document.documentElement.scrollTop = this.channelScroll[this.channelID]\r\n      })\r\n    }\r\n  },\r\n  activated () {\r\n    // 路由激活时监听滚动事件\r\n    window.addEventListener('scroll', this.scorllFn)\r\n    document.documentElement.scrollTop = this.$route.meta.scorllT\r\n  },\r\n  // 想要实现切换路由仍然保存滚动条位置的功能\r\n  // 思路,由于使用了组件缓存,当路由切换时在路由中保存滚动条位置\r\n  deactivated () {\r\n    window.removeEventListener('scroll', this.scorllFn)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.nav-container {\r\n  .van-nav-bar {\r\n    background-color: #1f86ec;\r\n    .text {\r\n      margin-left: 10px;\r\n      color: #fff;\r\n    }\r\n    // 自带的18打包时不能更改为rem\r\n    .i-descrip {\r\n      font-size: 36px;\r\n    }\r\n    .i-search {\r\n      font-size: 36px;\r\n    }\r\n  }\r\n}\r\n.sec-nav {\r\n  padding-top: 88px;\r\n  /deep/ .van-tabs__line {\r\n    background-color: #1f86ec;\r\n  }\r\n  /deep/ .van-tabs__wrap {\r\n    padding-right: 60px;\r\n    background-color: #fff;\r\n  }\r\n  .moreChannels {\r\n    position: fixed;\r\n    top: 120px;\r\n    right: 16px;\r\n    z-index: 999;\r\n  }\r\n}\r\n.editBox {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=05d58878&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=05d58878&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05d58878\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es-x/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}"],"names":["render","_vm","this","_h","$createElement","_c","_self","scopedSlots","_u","key","fn","staticClass","_v","_s","art","title","cover","type","directives","name","rawName","value","images","expression","attrs","_e","_l","item","index","proxy","_f","aut_name","art_id","comm_count","pubdate","on","$event","stopPropagation","MaskFn","apply","arguments","actions","bottomText","closeFn","onCancel","onSelect","model","callback","$$v","show","staticRenderFns","firstActions","secondActions","props","isShow","default","data","methods","action","filters","change","val","component","searchFn","beforeChangeFn","changeFn","channelID","obj","id","channelList","unCheckChannelList","addChannelFn","removeChannelFn","changeChannelFn","onRefresh","isLoading","finished","onLoad","loading","dislikeFunc","reportFunc","nativeOn","itemClickFn","articleList","timestamp","components","ArticleItem","created","getAllArticleListAPI","res","dislikeArticleAPI","Notify","message","reportArticleAPI","path","closeF","_m","editFn","isEdit","userChannelClickFn","moreFn","userList","unCheckList","ArticleList","ChannelEdit","allChannelList","channelScroll","getUserChannelsAPI","getAllChannelsAPI","res2","computed","set","newArr","channelObj","updateChannelsAPI","removeChannelsAPI","scorllFn","document","activated","window","deactivated","$","$findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","Array","target","proto","forced","findIndex","callbackfn","length","undefined","from","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","stat","_arrayLikeToArray","arr","len","i","arr2","_arrayWithoutHoles","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","test","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread"],"sourceRoot":""}