(self["webpackChunktoutiao"]=self["webpackChunktoutiao"]||[]).push([[181],{7893:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"title-box"},[n("span",[t._v(t._s(t.art.title))]),1===t.art.cover.type?n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.art.cover.images[0],expression:"art.cover.images[0]"}],staticClass:"thumb",attrs:{alt:""}}):t._e()]),t.art.cover.type>1?n("div",{staticClass:"thumb-box"},t._l(t.art.cover.images,(function(t,e){return n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],key:e,staticClass:"thumb",attrs:{alt:""}})})),0):t._e()]},proxy:!0},{key:"label",fn:function(){return[n("div",{staticClass:"label-box"},[n("div",[n("span",[t._v(t._s(t._f("change")(t.art.aut_name))+t._s(t.art.art_id))]),n("span",[t._v(t._s(t.art.comm_count)+"评论")]),n("span",[t._v(t._s(t.art.pubdate))])]),n("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],attrs:{name:"cross"},on:{click:function(e){return e.stopPropagation(),t.MaskFn.apply(null,arguments)}}})],1)]},proxy:!0}])}),n("div",{on:{click:function(t){t.stopPropagation()}}},[n("van-action-sheet",{attrs:{actions:t.actions,"cancel-text":t.bottomText},on:{close:t.closeFn,cancel:t.onCancel,select:t.onSelect},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)],1)},r=[],i=(n(8309),n(9600),n(561),n(4916),n(3123),[{name:"不感兴趣"},{name:"反馈垃圾内容"}]),o=[{value:0,name:"其它问题"},{value:1,name:"标题夸张"},{value:2,name:"低俗色情"},{value:3,name:"错别字多"},{value:4,name:"旧闻重复"},{value:6,name:"内容不实"},{value:8,name:"侵权"},{value:5,name:"广告软文"},{value:7,name:"涉嫌违法犯罪"}],s={props:{art:Object,isShow:{type:Boolean,default:!0}},data:function(){return{show:!1,actions:i,bottomText:"取消"}},methods:{MaskFn:function(){this.show=!0},onCancel:function(){"返回"===this.bottomText&&(this.show=!0,this.actions=i,this.bottomText="取消")},onSelect:function(t){"反馈垃圾内容"===t.name?(this.actions=o,this.bottomText="返回"):"不感兴趣"===t.name?(this.$emit("dislikeFn",this.art.art_id),this.show=!1):(this.$emit("reportFn",this.art.art_id,t.value),this.show=!1)},closeFn:function(){this.actions=i,this.bottomText="取消"}},filters:{change:function(t){return t.split("").splice(2,3).join("")}}},c=s,u=n(1001),l=(0,u.Z)(c,a,r,!1,null,"d57e788c",null),f=l.exports},9559:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:t.navTitle,fixed:""},scopedSlots:t._u([{key:"left",fn:function(){return[n("van-icon",{staticClass:"goback",attrs:{name:"arrow-left",color:"white",size:"0.48rem"},on:{click:function(e){return t.$router.back()}}})]},proxy:!0}])})],1)},r=[],i={props:{navTitle:String}},o=i,s=n(1001),c=(0,s.Z)(o,a,r,!1,null,"c4979474",null),u=c.exports},8784:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return h}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"search-result-container"},[n("NavBar",{attrs:{navTitle:"搜索结果"}}),n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.articleList,(function(e){return n("ArticleItem",{key:e.art_id,attrs:{art:e,isShow:!1},nativeOn:{click:function(n){return t.itemClickFn(e.art_id)}}})})),1)],1)])},r=[],i=n(4479),o=n(6198),s=(n(8975),n(2222),n(7893)),c=n(9559),u=n(6183),l={name:"SearchResult",components:{ArticleItem:s.Z,NavBar:c.Z},data:function(){return{page:1,articleList:[],loading:!1,finished:!1}},methods:{onLoad:function(){var t=this;return(0,o.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.articleList.length){e.next=10;break}return t.page++,e.next=4,(0,u.G_)({page:t.page,q:t.$route.params.keywords});case 4:if(n=e.sent,n.data.data.results.length){e.next=8;break}return t.finished=!0,e.abrupt("return");case 8:t.articleList=[].concat((0,i.Z)(t.articleList),(0,i.Z)(n.data.data.results)),t.loading=!1;case 10:case"end":return e.stop()}}),e)})))()},itemClickFn:function(t){this.$router.push({path:"/article?art_id=".concat(t)})}},beforeRouteEnter:function(t,e,n){"/search"===e.path?n(function(){var t=(0,o.Z)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.G_)({page:e.page,q:e.$route.params.keywords});case 2:n=t.sent,e.articleList=n.data.data.results;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):n()},created:function(){var t=this;return(0,o.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.G_)({page:t.page,q:t.$route.params.keywords});case 2:n=e.sent,t.articleList=n.data.data.results;case 4:case"end":return e.stop()}}),e)})))()}},f=l,m=n(1001),d=(0,m.Z)(f,a,r,!1,null,"0719ef84",null),h=d.exports},1038:function(t,e,n){var a=n(2109),r=n(8457),i=n(7072),o=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:r})},4479:function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function r(t){if(Array.isArray(t))return a(t)}n.d(e,{Z:function(){return c}});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1038);function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n(7042),n(8309),n(4916),n(7601);function o(t,e){if(t){if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}n(1703);function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||i(t)||o(t)||s()}}}]);
//# sourceMappingURL=SearchResult-legacy.79da7a62.js.map